set serveroutput on

create table tbmarks(
rno number(3),
name varchar2(15),
mark1 number(3),
mark2 number(3),
total number(3),
average number(5,2),
result varchar2(10)
);

create or replace procedure prmarksins(
prno in number,
pname in varchar2,
pmark1 in number,
pmark2 in number
)
is
vtotal number;
vaverage number;
vresult varchar2(10);
begin
vtotal := pmark1 + pmark2;
vaverage := vtotal / 2;

if pmark1>=40 and pmark2>=40 then
vresult := 'pass';
else
vresult := 'fail';
end if;

insert into tbmarks
values(prno,pname,pmark1,pmark2,vtotal,vaverage,vresult);

commit;
end;
/

exec prmarksins(1,'king',89,90);
exec prmarksins(2,'scott',39,56);

create or replace procedure prmarksupd(
prno in number,
pmark1 in number,
pmark2 in number
)
is
vtotal number;
vaverage number;
vresult varchar2(10);
begin
vtotal := pmark1 + pmark2;
vaverage := vtotal / 2;

if pmark1>=40 and pmark2>=40 then
vresult := 'pass';
else
vresult := 'fail';
end if;

update tbmarks
set mark1=pmark1,
mark2=pmark2,
total=vtotal,
average=vaverage,
result=vresult
where rno=prno;

commit;
end;
/

exec prmarksupd(2,55,56);

create or replace procedure prmarksdel(prno in number)
is
begin
delete from tbmarks where rno=prno;
commit;
end;
/

exec prmarksdel(2);

select * from tbmarks;
